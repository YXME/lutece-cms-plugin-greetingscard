<@pageContainer>
    <@pageColumn>
        <@pageHeader title='#i18n{greetingscard.modify_greetings_card_template.pageTitle}' />
		<@tform name='modify_greetings_card_template' enctype="multipart/form-data" action='jsp/admin/plugins/greetingscard/DoModifyGreetingsCardTemplate.jsp' boxed=true>
			<@input type='hidden' name='gct_id' id='gct_id' value=gct_id! />
			<@row>
				<@columns>
					<@row>
						<@columns md=9>
							<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdDescription}' labelFor='description' mandatory=true rows=2>
								<@input name='description' id='description' value=description! />
							</@formGroup>
						</@columns>
						<@columns>
							<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdEnable}' hideLabel=['all'] labelFor='status' class='mt-4' mandatory=true rows=2 >
								<#assign isChecked><#if status = 'unchecked'>false<#else>true</#if></#assign>
								<#assign classChecked>fw-bolder text-<#if status = 'unchecked'>danger<#else>success</#if></#assign>
								<#assign labelChecked><#if status = 'unchecked'>#i18n{greetingscard.modify_greetings_card_template.labelDisabled}<#else>#i18n{greetingscard.modify_greetings_card_template.labelEnabled}</#if></#assign>
								<@checkBox name='status' id='status' value='1' orientation='switch' labelClass=classChecked labelKey=labelChecked checked=isChecked?boolean />
							</@formGroup>
						</@columns>
					</@row>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdMailObject}' labelFor='object_email' mandatory=true>
						<@input name='object_email' id='object_email' value=object_email! />
					</@formGroup>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.label_workgroup}' labelFor='object_email' mandatory=true>
						<@select name='workgroup' items=user_workgroup_list default_value=user_workgroup_selected />
					</@formGroup>
					<@formGroup>
						<@button type='submit' buttonIcon='check' title='#i18n{greetingscard.modify_greetings_card_template.labelIdModify}' size='' />
						<@aButton href='jsp/admin/plugins/greetingscard/ManageGreetingsCard.jsp' buttonIcon='x' color='danger' title='#i18n{greetingscard.modify_greetings_card_template.labelIdCancel}' size='' />
					</@formGroup>
				</@columns>
				<@columns>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdImage}' labelFor='picture_card' mandatory=false rows=2>
						<@input type='file' name='picture_card' id='picture_card' value=picture_card! />
					</@formGroup>
					<@row>
						<@columns>
							<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdWidth}' labelFor='width' mandatory=true rows=2>
								<@input name='width' id='width' value=width! />
							</@formGroup>
						</@columns>
						<@columns>
							<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdHeight}' labelFor='height' mandatory=true rows=2>
								<@input name='height' id='height' value=height! />
							</@formGroup>
						</@columns>
					</@row>
				</@columns>
				<@columns>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdSendHTML}' labelFor='create_html_card' mandatory=false rows=2>
						<@input type='file' name='create_html_card' id='create_html_card' value=create_html_card! />
					</@formGroup>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdVisuHTML}' labelFor='view_html_card' mandatory=false rows=2>
						<@input type='file' name='view_html_card' id='view_html_card' value=view_html_card! />
					</@formGroup>
					<@formGroup labelKey='#i18n{greetingscard.modify_greetings_card_template.labelIdMailHTML}' labelFor='mail_card' mandatory=false rows=2>
						<@input type='file' name='mail_card' id='mail_card' value=mail_card! />
					</@formGroup>
				</@columns>
			</@row>
	    </@tform>
	</@pageColumn>
</@pageContainer>
<script>
document.addEventListener( "DOMContentLoaded", function(){
	const checkStatus = document.getElementById('status')
	const checkStatusLabel = document.querySelector('#status + .form-check-label')
	const statusLabelOn='#i18n{greetingscard.modify_greetings_card_template.labelEnabled}'
	const statusLabelOff='#i18n{greetingscard.modify_greetings_card_template.labelDisabled}'
	
	checkStatus.addEventListener( 'change', ( e )=> {
		checkStatusLabel.classList.toggle( 'text-danger' )
		checkStatusLabel.classList.toggle( 'text-success' )
		if( checkStatusLabel.textContent ==  statusLabelOn ){
			checkStatusLabel.textContent =  statusLabelOff
		} else if ( checkStatusLabel.textContent ==  statusLabelOff ){
			checkStatusLabel.textContent =  statusLabelOn
		}
	})
});
</script>